# Test Framework for {{TOOL_NAME}}

## Purpose

This directory contains test cases for the self-learning loop. Each test helps refine the agent prompt template to produce higher quality, more useful data.

## Why Testing Matters

The quality of generated commentary directly impacts how well AI systems can assist Bible translators, pastors, and students. Poor quality data can mislead; excellent data grounds AI in truth. Testing ensures we're creating value, not noise.

## Structure

Each test directory should be named descriptively (e.g., `cultural-translation-test`, `complex-greek-test`, `poetry-test`) and contain:

```
{test-name}/
├── {{TOOL_NAME_KEBAB}}-template.md  # The prompt version used for this test
├── {{TOOL_NAME_KEBAB}}-output.yaml  # The generated result
└── {{TOOL_NAME_KEBAB}}-analysis.md  # Critical analysis of quality
```

### File Purposes

#### {tool-name}-template.md
A snapshot of the prompt template used to generate this test output. This allows you to track which version of the template produced which results.

#### {tool-name}-output.yaml
The actual YAML output generated by the AI agent using the template. This is what would be saved to the `./bible/` directory.

#### {tool-name}-analysis.md
A thorough analysis answering:
- **What worked well?** Specific strengths of the output
- **What was missing?** Gaps or shallow areas
- **What was inaccurate?** Any errors or misleading content
- **Practical value assessment**: Does this actually help translators/pastors/students? How?
- **Comparison to goals**: Does it achieve the tool's stated objectives?
- **Recommendations**: Specific improvements to make to the template

## Self-Learning Loop

The process for continuous improvement:

### 1. Run Test
```bash
# Use current template to process a test verse
claude "Using {{TOOL_NAME_KEBAB}}-template.md, process {{TEST_VERSE}}"
```

### 2. Save Output
Copy the generated YAML to `tests/{test-name}/{{TOOL_NAME_KEBAB}}-output.yaml`

### 3. Copy Template
Save the current template version to `tests/{test-name}/{{TOOL_NAME_KEBAB}}-template.md`

### 4. Analyze Quality
Create `tests/{test-name}/{{TOOL_NAME_KEBAB}}-analysis.md` with thorough evaluation:
- Human review (translator, pastor, or Bible student perspective)
- AI-assisted review (compare against reference materials)
- Value assessment (is this worth storing?)

### 5. Document Learnings
Update `../LEARNING.md` with:
- What you discovered
- What hypothesis was tested
- Results and insights
- Ideas for next iteration

### 6. Refine Template
Modify `../{{TOOL_NAME_KEBAB}}-template.md` based on learnings:
- Add more specific instructions
- Clarify ambiguous sections
- Add examples of desired output
- Adjust quality standards

### 7. Repeat
Run another test (ideally on a different verse type: poetry, narrative, epistle, prophecy) to verify improvements.

### 8. Convergence
Stop when additional iterations show no meaningful improvement. Document final state in `../LEARNING.md`.

## Test Coverage Strategy

For comprehensive testing, include verse types covering:

- [ ] **Narrative**: Story-telling passages (e.g., GEN 1:1, MAT 2:1)
- [ ] **Poetry**: Psalms, prophetic poetry (e.g., PSA 23:1, ISA 40:31)
- [ ] **Wisdom**: Proverbs, wisdom literature (e.g., PRO 3:5)
- [ ] **Epistle**: New Testament letters (e.g., ROM 8:28, EPH 2:8)
- [ ] **Prophecy**: Prophetic declarations (e.g., ISA 53:5, REV 21:4)
- [ ] **Law**: Legal/ceremonial texts (e.g., LEV 19:18, DEU 6:4)
- [ ] **Gospel**: Jesus' teachings (e.g., MAT 5:3, JHN 3:16)
- [ ] **Complex Greek**: Verses with rich Greek vocabulary (e.g., JHN 1:1)
- [ ] **Cultural Context**: Culturally-specific imagery (e.g., snow, sheep, marketplace)
- [ ] **Controversial**: Verses with multiple interpretations (e.g., ROM 9:13, JAM 2:24)

## Current Test Cases

{{TEST_CASES_LIST}}

## Success Metrics

A test case is considered successful when:

1. ✅ **Accuracy**: All factual claims are verifiable and correct
2. ✅ **Usefulness**: Provides practical value to target audience
3. ✅ **Completeness**: Covers all aspects defined in tool goals
4. ✅ **Uniqueness**: Offers insights not easily available in base LLM
5. ✅ **Format**: Valid YAML, proper structure, follows conventions

## Notes

- Start with diverse verse types to stress-test the template
- Don't just test "famous" verses - those are already well-covered in LLM training
- Include verses from minor prophets, Numbers, Leviticus, etc.
- Get feedback from actual translators/pastors/students when possible
- Each test should take 10-30 minutes for thorough analysis
- Quality over quantity - one excellent test is better than five shallow ones
